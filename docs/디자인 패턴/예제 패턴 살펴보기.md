# 예제 패턴 살펴보기
>디자인패턴 자체를 코드 없이 설명하기에는 탁상공론으로 생각되어, 할 수 없이 많은 코드를 넣게 되는 것을 미리 양해 드립니다.

이번 파트에서 설명할 디자인 패턴은 [Builder Pattern(빌더패턴)](#q-빌더-패턴은-얼마나-유용한가?)
, [Strategy Pattern(스트레티지 패턴)](#q-스트레티지-패턴의-예를-보여줄-수-있는가?)
, [Template Method Pattern(템플릿 메서드 패턴)](#q-템플릿-메서드-패턴은-어떻게-사용하는가?)
이상 세 가지 이다. 각 패턴을 어떻게 구현하는지는 물론, 어떤 상황에서, 어떤 문제를 해결할 수 있는지를 중점적으로 살펴보겠다.

### Q. 빌더 패턴은 얼마나 유용한가?
조금 더 현실감 있게 질문을 바꾸자면 **'빌더 패턴은 무엇이고 언제 사용하나?'** 가 직관적인 형태이다.

우선 문제상황을 가정해서 빌더패턴이 어떤 문제를 어떻게 해결할 수 있는지 보자.(책에서는 수의사를 예를 들지만, 개발자의 흔한 예제인 Emplyee를 들겠다.)
>직원 객체는 이름, 나이, 성별, 부서, 연봉 등의 필수정보로 갖고 있으며, 결혼유무, 취미 등의 선택정보를 갖는다. 객체를 생성해보자.
```{.java}
public class Emp {
    private String name;
    private int age;
    private String gender;
    private String dept;
    private long salary;

    private boolean maritalStatus;
    private String hobby;

    // 생성자
    public Emp(String name, int age, String gender, String dept, long salary, boolean maritalStatus, String hobby) {
        this.name = name;
        this.age = age;
        this.gender = gender;
        this.dept = dept;
        this.salary = salary;
        this.maritalStatus = maritalStatus;
        this.hobby = hobby;
    }
}
```
위 객체를 생성해 사용해야한다면, 파라미터의 값을 위치에 의존하여 전달 할 수 밖에 없다.(물론 IDE가 파라미터마다 어떤 파라미터를 전달하라고 알려주지만 말이다.) 100개가 넘는 필드를 생성자로 세팅하려고 하면 모니터에 검지손가락을 올려놓고 몇번째 객체인지 열심히 세어보던 경험이 있을 것이다. 빌더패턴은 생성자가 갖는 이런 문제를 Setter를 통해 극복하려고 한다. 아래 코드는 위 코드에 빌더패턴을 적용시켰다.
```{.java}
public class Emp {
    // 내부 static class인 Builder 객체를 통해 객체 생성
    public static class Builder {
        private String name;
        private int age;
        private String gender;
        private String dept;
        private long salary;

        private boolean maritalStatus;
        private String hobby;

        public Builder setName(String name) {
            this.name = name;
            return this;
        }

        public Builder setAge(int age) {
            this.age = age;
            return this;
        }

        public Builder setGender(String gender) {
            this.gender = gender;
            return this;
        }

        public Builder setDept(String dept) {
            this.dept = dept;
            return this;
        }

        public Builder setSalary(long salary) {
            this.salary = salary;
            return this;
        }

        public Builder setMaritalStatus(boolean maritalStatus) {
            this.maritalStatus = maritalStatus;
            return this;
        }

        public Builder setHobby(String hobby) {
            this.hobby = hobby;
            return this;
        }
        public Emp build() {
            // 필수값 체크
            if (Optional.ofNullable(this.name).isEmpty()
                    || Optional.ofNullable(this.age).isEmpty()
                    || Optional.ofNullable(this.gender).isEmpty()
                    || Optional.ofNullable(this.dept).isEmpty()
                    || Optional.ofNullable(this.salary).isEmpty()) {
                throw new IllegalStateException("필수값이 부족합니다.");
            }

            // EMP 객체를 리턴
            return new Emp(this.name, this.age, this.gender, this.dept, this.salary, this.maritalStatus, this.hobby);
        }
    }

    private final String name;
    private final int age;
    private final String gender;
    private final String dept;
    private final long salary;

    private final boolean maritalStatus;
    private final String hobby;

    // 생성자
    private Emp(final String name, final int age, final String gender, final String dept, final long salary, final boolean maritalStatus, final String hobby) {
        this.name = name;
        this.age = age;
        this.gender = gender;
        this.dept = dept;
        this.salary = salary;
        this.maritalStatus = maritalStatus;
        this.hobby = hobby;
    }

    @Override
    public String toString() {
        return "Emp{" +
                "name='" + name + '\'' +
                ", age=" + age +
                ", gender='" + gender + '\'' +
                ", dept='" + dept + '\'' +
                ", salary=" + salary +
                ", maritalStatus=" + maritalStatus +
                ", hobby='" + hobby + '\'' +
                '}';
    }
}
```



### Q. 스트레티지 패턴의 예를 보여줄 수 있는가?

### Q. 템플릿 메서드 패턴은 어떻게 사용하는가?

